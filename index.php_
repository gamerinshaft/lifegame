<!DOCTYPE html>

<html lang="ja">
<head>
        <meta charset="UTF-8">
</head>

<body>
<form action="index.php" method="POST">
   name: <input type="text" name="name"><br>
   content: <input type="text" name="content"><br>
   array: <input type="text" name="array"><br>
        <input type="submit" />
</form>

<?php


// 接続
try {
     $dbh = new PDO('mysql:host=160.16.97.70;port=110;dbname=x6313067','x6313067','doutei');
} catch (PDOException $e){
     var_dump($e->getMessage());
     exit;
}
echo "success! <br>";


// 処理
// レコードの挿入
if(!empty($_POST["name"]) && !empty($_POST["content"]) && !empty($_POST["array"])){
  $stmt = $dbh->prepare("insert into lifegameArrayInfo (name,content,array) values(:name, :content,:array)");
  $stmt->execute(
    array(
      ":name"=>$_POST["name"],
      ":content"=>$_POST["content"],
      ":array"=>$_POST["array"]
    )
  );
}


// 表示（レコードの取得）
$sql = "select * from lifegameArrayInfo";     // sql文
$stmt = $dbh->query($sql);     // ステートメント
foreach ($stmt->fetchAll(PDO::FETCH_ASSOC) as $lifegameArrayInfo) {
  $msg = htmlspecialchars($lifegameArrayInfo['id']) . ": [" .
    htmlspecialchars($lifegameArrayInfo['name']) . "] " .
    htmlspecialchars($lifegameArrayInfo['content']) . ": ".
    htmlspecialchars($lifegameArrayInfo['array']) .
    "<br>";
  echo $msg;

}


// 切断
$dbh = null;

?>

</body>
</html>
